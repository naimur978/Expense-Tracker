{"ast":null,"code":"const API_BASE_URL = 'http://localhost:8001/api';\nexport const api = {\n  async getExpenses() {\n    try {\n      const response = await fetch(`${API_BASE_URL}/expenses/`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => null);\n        throw new Error((errorData === null || errorData === void 0 ? void 0 : errorData.detail) || `HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return data.results;\n    } catch (error) {\n      console.error('Error fetching expenses:', error);\n      throw error;\n    }\n  },\n  async createExpense(expense) {\n    const response = await fetch(`${API_BASE_URL}/expenses/`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(expense)\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => null);\n      throw new Error((errorData === null || errorData === void 0 ? void 0 : errorData.detail) || 'Failed to create expense');\n    }\n    return response.json();\n  },\n  async updateExpense(id, expense) {\n    const response = await fetch(`${API_BASE_URL}/expenses/${id}/`, {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(expense)\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => null);\n      throw new Error((errorData === null || errorData === void 0 ? void 0 : errorData.detail) || 'Failed to update expense');\n    }\n    return response.json();\n  },\n  async deleteExpense(id) {\n    const response = await fetch(`${API_BASE_URL}/expenses/${id}/`, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => null);\n      throw new Error((errorData === null || errorData === void 0 ? void 0 : errorData.detail) || 'Failed to delete expense');\n    }\n  },\n  async getExpenseSummary(timeframe = 'monthly') {\n    const response = await fetch(`${API_BASE_URL}/expenses/summary/?timeframe=${timeframe}`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => null);\n      throw new Error((errorData === null || errorData === void 0 ? void 0 : errorData.detail) || 'Failed to fetch expense summary');\n    }\n    return response.json();\n  }\n};","map":{"version":3,"names":["API_BASE_URL","api","getExpenses","response","fetch","headers","ok","errorData","json","catch","Error","detail","status","data","results","error","console","createExpense","expense","method","body","JSON","stringify","updateExpense","id","deleteExpense","getExpenseSummary","timeframe"],"sources":["/Users/naimur/Downloads/Code/ExpenseTracker/frontend/src/services/api.ts"],"sourcesContent":["import { Expense } from '../types/expense';\n\nconst API_BASE_URL = 'http://localhost:8001/api';\n\nexport const api = {\n  async getExpenses() {\n    try {\n      const response = await fetch(`${API_BASE_URL}/expenses/`, {\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json'\n        },\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => null);\n        throw new Error(errorData?.detail || `HTTP error! status: ${response.status}`);\n      }\n      \n      const data = await response.json();\n      return data.results;\n    } catch (error) {\n      console.error('Error fetching expenses:', error);\n      throw error;\n    }\n  },\n\n  async createExpense(expense: Omit<Expense, 'id' | 'createdAt'>) {\n    const response = await fetch(`${API_BASE_URL}/expenses/`, {\n      method: 'POST',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(expense),\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json().catch(() => null);\n      throw new Error(errorData?.detail || 'Failed to create expense');\n    }\n    \n    return response.json();\n  },\n\n  async updateExpense(id: string, expense: Omit<Expense, 'id' | 'createdAt'>) {\n    const response = await fetch(`${API_BASE_URL}/expenses/${id}/`, {\n      method: 'PUT',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(expense),\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json().catch(() => null);\n      throw new Error(errorData?.detail || 'Failed to update expense');\n    }\n    \n    return response.json();\n  },\n\n  async deleteExpense(id: string) {\n    const response = await fetch(`${API_BASE_URL}/expenses/${id}/`, {\n      method: 'DELETE',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json().catch(() => null);\n      throw new Error(errorData?.detail || 'Failed to delete expense');\n    }\n  },\n\n  async getExpenseSummary(timeframe: 'weekly' | 'monthly' | 'yearly' = 'monthly') {\n    const response = await fetch(`${API_BASE_URL}/expenses/summary/?timeframe=${timeframe}`, {\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n      },\n    });\n    \n    if (!response.ok) {\n      const errorData = await response.json().catch(() => null);\n      throw new Error(errorData?.detail || 'Failed to fetch expense summary');\n    }\n    \n    return response.json();\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}